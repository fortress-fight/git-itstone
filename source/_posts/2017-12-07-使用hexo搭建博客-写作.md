---
title: 使用hexo搭建博客--写作
tags:
  - hexo
  - blog
  - 博客
categories:
  - blog
date: 2017-12-07 01:19:10
---


## 参考链接

1. [hexo官网](https://hexo.io/zh-cn/docs/writing.html) -- 使用 hexo 基础

## 写作

我们可以通过

```cmd
    hexo new [layout] <title>
```

### layout

在 Hexo 中存在三种默认布局格式：`post` 、 `page`、 `draft`；不同的布局格式文件存在在 source 下不同的文件夹中（自定义的文件布局将和 `post` 相同）；

layout | 类型
------- | -------
post | 文章
page | 页面 
draft | 草稿

草稿类型的文件需要通过 `publish` 的命令来将其发布出去，例如：

```cmd
    hexo publish [layout] <title>
```

草稿默认不会显示在页面中，需要在执行的时候添加 `--draft` 参数 (`hexo server --draft`)，或者将配置文件中的 `render_drafts` 参数设为 `true` 来预览草稿；

> 如果不想文章被处理，需要将 Front-Matter 中的 layout 设置为 false, 例如 README.md

******

### 文件名称

Hexo 默认是以标题作为文件名称的，可以编辑配置文件（根路径下的 _config.yml）中的 `new_post_name` 参数来改变默认的文件名称，可以使用的下面列出的变量；

变量 | 描述
---|---
:title | 标题（小写，空格将会被替换为短杠）
:year | 建立的年份，比如， 2015
:month | 建立的月份（有前导零），比如， 04
:i_month | 建立的月份（无前导零），比如， 4
:day | 建立的日期（有前导零），比如， 07
:i_day | 建立的日期（无前导零），比如， 7

******

### 模板

在新建文章的时候，Hexo 会根据 `scaffolds` 文件夹中查找格式对应的文件来家里文件；

模板中可以用的变量有 

变量 | 描述
---|---
layout | 布局
title | 标题
date | 文件建立日期

除了使用默认的 layout ，还可以创建自定义的模本格式，例如

```cmd
hexo new photo "自定义的格式形式"
```

这时就将会在 `scaffolds` 文件夹中查找 `photo.md` 并根据其内容建立文章 `自定义的格式形式.md`

******

### Front-matter

Front-matter 是文件上方 `---` 分隔的区域，用于指定个别文件的变量；示例：

```md
    ---
    title: 使用hexo搭建博客
    tags: 
    - hexo
    - blog
    - 博客
    - GitHubPage
    ---
```

通过 `\{\{ [变量名] \}\}` 的方式实现；

模板中预先携带如下参数：

参数 | 描述 | 默认值
---|----|----
layout | 布局 | 
title | 标题 | 
date | 建立日期 | 文件建立日期
updated | 更新日期 | 文件更新日期
comments | 开启文章的评论功能 | true
tags | 标签（不适用于分页） | 
categories | 分类（不适用于分页） | 
permalink | 覆盖文章网址 | 

在 Front-matter 中可以设置分类和标签

需要注意的地方：

1. 只有文章支持分类和变迁；
2. 分类具有顺序性和层次性，而标签并不具备；

******

### 标签插件 Tag Plugins

标签插件和 Front-matter 中的标签并不相同，标签插件是在文章中快速插入特定内容的插件；

1. 引用块 quote

    在文章中插入引言，可以包含作者、来源以及标题 实例：

    {% blockquote 作者, 来源 https://www.baidu.com 百度 %}
    这里只一段引言
    {% endblockquote %}

    ```cmd
        {% blockquote 作者, 来源 https://www.baidu.com 百度 %}
        这里只一段引言
        {% endblockquote %}

        {% blockquote [author[, source]] [link] [source_link_title] %}
        这里只一段引言
        {% endblockquote %}
    ```

2. 代码块

    在文章中可以引入代码块，通常在 makedown 中，可以使用 \`\`\` 包括代码，来显示代码块；而使用标签插件可以如此去做，实例：

    {% codeblock lang:js  Init a http://www.baidu.com 百度 %}
        var a = 10;
    {% endcodeblock %}

    ```md
        {% codeblock lang:js  Init a http://www.baidu.com 百度 %}
            var a = 10;
        {% endcodeblock %}

        // 格式

        {% codeblock [lang:<string>] [infor] [relateLink] [linktitle] %}
        {% endcodeblock %}
    ```

3. 反引号代码块

    ```md 标题 http://www.baidu.com 百度
        var a = 10;
    ```

    ```md 
        \`\`\` [语言] [标题] [http://www.baidu.com] [百度]
            var a = 10;
        \`\`\`
    ```

4. Pull Quote (可以为标签添加 className)

    {% pullquote class %}
    content
    {% endpullquote %}

    ```md
        {% pullquote [className] %}
        content
        {% endpullquote %}
    ```

5. jsFiddle (以 iframe 的形式，插入 jsFiddle 在线代码编辑)

    {% jsfiddle shorttag [tabs] [skin] [100%] [200] %}

    ```md
        {% jsfiddle shorttag [tabs] [skin] [width] [height] %}
    ```

6. 指定大小的 img

    {% img /images/测试.jpg %}

    ```md
        {% img [class names] /path/to/image [width] [height] [title text [alt text]] %}
    ```

7. Link

    {% link 百度 http://www.baidu.com  title %}

    ```md
        {% link title url [titleAttr] %}
    ```

8. Include Code *

    插入 `source` 文件夹内的代码文件

    {% include_code /codes/测试.js %}

    ```md
        {% include_code [title] [type] path %}
    ```

9. Vimeo *

    在文章中插入 Vimeo 视频。
    
    ```md
        {% vimeo video_id %}
    ```

7. 引用文章

    引用其他文章的链接。
    
    {% post_path hello-world %}  
    {% post_link hello-world %}
    
    ```md
        {% post_path hello-world %}
        {% post_link hello-world %}
        
        格式

        {% post_path slug %}
        {% post_link slug [title] %}
    ```

8. 引用资源 *

    引用文章的资源。

    {% asset_path /images/测试.jpg %}
    {% asset_img /images/测试.jpg [title] %}
    {% asset_link /codes/测试.js [title] %}

    ```md
        {% asset_path slug %}
        {% asset_img slug [title] %}
        {% asset_link slug [title] %}
    Raw
    如果您想在文章中插入 Swig 标签，可以尝试使用 Raw 标签，以免发生解析异常。
        {% raw %}
        content
        {% endraw %}
    ```

******

### 资源文件夹

资源（Asset）代表 source 文件夹中除了文章以外的所有文件，例如图片、CSS、JS 文件等。比方说，如果你的Hexo项目中只有少量图片，那最简单的方法就是将它们放在 source/images 文件夹中。然后通过类似于 `![](/images/image.jpg)` 的方法访问它们。

#### 文章资源文件夹

对于那些想要更有规律地提供图片和其他资源以及想要将他们的资源分布在各个文章上的人来说，Hexo也提供了更组织化的方式来管理资源。这个稍微有些复杂但是管理资源非常方便的功能可以通过将 config.yml 文件中的 post_asset_folder 选项设为 true 来打开。

```json
    _config.yml
    post_asset_folder: true
```

当资源文件管理功能打开后，Hexo将会在你每一次通过 `hexo new [layout] <title>` 命令创建新文章时自动创建一个文件夹。这个资源文件夹将会有与这个 markdown 文件一样的名字。将所有与你的文章有关的资源放在这个关联文件夹中之后，你可以通过相对路径来引用它们，这样你就得到了一个更简单而且方便得多的工作流。

#### 相对路径引用的标签插件

在开启文章资源文件夹功能后，引入时将会选择相对路径，这时建议使用：

```md
    {% asset_path slug %}
    {% asset_img slug [title] %}
    {% asset_link slug [title] %}
```

来创建路径；

例如：在文件下放入 example.jpg ：

```md
    {% asset_img example.jpg This is an example image %}
```

通过这种方式，图片将会同时出现在文章和主页以及归档页中。如果使用 md 的语法 `![]()` 将只会在文章中显示

******

### 数据文件

如果有些数据希望在所有文件中使用，可以使用 Hexo 3.0 新增的 数据文件 功能，此功能会载入如 source/_data 中的 YAML 或者 JSON 文件；就可以在各个文件中复用

例如：

```json ceshi.json
{
    "name": "stone"
}
``` 

使用： `{{ site.data.ceshi.name }}`;

显示：{{ site.data.ceshi.name }}